{"title":"ECON-S307\nSéminaire d'économie appliquée - Prix","markdown":{"yaml":{"title":"ECON-S307\nSéminaire d'économie appliquée - Prix\n","subtitle":"Séance d'introduction","author":"Owen Brown","date":"today","bibliography":"ref.bibtex","biblio-style":"natbib","bibliographystyle":"apa","project":{"output-dir":"docs"},"date-format":"long","execute":{"fig-format":"png","cache":true,"freeze":"auto"},"lightbox":true,"format":{"revealjs":{"output-file":"seminaire_intro.html","logo":"images/clipboard-1578115461.png","css":"styles.css","width":1500,"margin":0.075,"slide-number":true,"pdf":true}}},"headingText":"Objectif de la séance","containsRefs":true,"markdown":"\n\n```{r, verbose = FALSE}\nsource(\"lib.R\")\nsource(\"data_forProj.R\")\nset.seed(1234)\npuissance <- rnorm(5000,200,75)\npoids <- rnorm(5000,500,250)+0.2*puissance\n\nprix <- 3500+0.5*puissance-1*poids+rnorm(5000,150,100)\n\ndta <- tibble(prix,puissance,poids)\n\nfmla <- prix~ 1000+0.5*puissance-0.10*poids\n\n#| include: false\nknitr::opts_chunk$set(warning = FALSE,\n  error   = FALSE\n)\n```\n\n\n<br/>\n\nL'objectif de cette séance sera de revenir sur l'organisation du cours\net du matériel que nous emploierons. Nous discuterons:\n\n::: incremental\n- de l'objectif général du projet\n- des outils mobilisables pour ce projet\n- du travail final à rendre\n:::\n\n\n## Structure du projet\n\nChaque groupe doit rédiger un projet de 4 pages / membre (page de garde, appendix et\nréférences exclues - taille de police 12). Le projet doit prendre la forme suivante : \n\n::: incremental\n::: {style=\"line-height:1\"}\n0.  **Page de garde** - titre, noms, matricules\n1. **Revue de littérature** - synthèse de la recherche relative à votre bien \n2. **Discussion de la source de données** - justification, fiabilité,méthode de récolte \n3. **Analyse descriptive des données** - sommaire des variables, graphiques, tables\n4. **Méthode, résultats, discussion** -  spécification de la régression hédonique, estimation de modèle, discussion des résultats, liens contextuels\n5. **Références & Appendix** \n:::\n:::\n\n. . .\n\nLe travail comprendra en préambule une table de matières ainsi qu'une table de graphiques.\n\n## Remise & défense de projet\n\n::: noincremental\n::: {style=\"line-height:1\"}\n- Votre fichier devra être remis **sur l'UV sous format PDF**.\n- En indiquant votre numéro de groupe et vos noms (de famille) par ordre alphabétique, vous nommerez votre le fichier de votre travail :\n\n::: {style=\"text-align: center\"}\n\"[GRP_] - Séminaire d'économie appliquée (Prix)_NOM_1-NOM_2-NOM_3.pdf\". \n:::\n:::\n:::\n. . .\n\n::: noincremental\n::: {style=\"line-height:1\"}\n- Vous devrez également soumettre votre jeu de données ainsi que votre code. **Il est impératif que le code que vous communiquez produise exactement les mêmes résultats que votre travail.** \n- Votre code devra être commenté. Chaque étape clé devra être clairement indiquée et brièvement décrite.\n\n::: {style=\"text-align: center\"}\n \"[GRP_] - Code_NOM_1-NOM_2-NOM_3.R\" <br>\n \"[GRP_] - Dataset_NOM_1-NOM_2-NOM_3.csv\"\n:::\n:::\n:::\n\n## Dates du projet\n\n::: incremental\n- **1er mars - 23h59** : Remettre une note  dans laquelle vous expliquez quel bien vous souhaitez analyser et expliquez comment vous construirez un jeu de données (1 page max).\n<center>\n*\\[GRP\\_\\] - Note 1 (Prix)\\_NOM\\_1-NOM\\_2-NOM\\_3.pdf*\n</center>\n- **15 mars - 23h59** : Remettre une note dans laquelle vous expliquez votre avancée de récolte de données - Méthode employée, source, quantité de données, objectifs (2 pages max). \n<center>\n*\\[GRP\\_\\] - Note 2 (Prix)\\_NOM\\_1-NOM\\_2-NOM\\_3.pdf*\n  </center>\n- **30 avril - 23h59** : Remettre votre travail sur l'UV\n  + Votre rapport final - **format PDF**\n  + Vos documents annexes - Jeu de données, codes\n:::\n\n\n\n# Des questions ?\n\n\n## Du projet\n\n::: incremental\n1.  L'objectif de ce projet est de vous faire mesurer. Mesurer, c'est\n    central en économie appliquée.\n2.  Votre objet d'étude sera un bien.\n3.  Vous devrez mesurer la contribution des caractéristiques d'un bien\n    au prix de ce bien.\n:::\n\n. . .\n\n→ Ceci peut être réalisé avec des outils économétriques : les\nrégressions hédoniques.\n\n. . .\n\nUne régression hédonique décompose le prix en ses constituants\ncaractéristiques, et fournit une estimation de la valeur contributaire\nde chaque caractéristique.\n\n\n## Rappel - L'économétrie [@woolridge]{.smalltext}\n\nL'économétrie est un outil fondé sur des méthodes statistiques ayant\npour but :\n\n::: incremental\n-   d'estimer des relations économiques\n-   de tester des théories\n-   de mesurer des effets\n:::\n\n. . .\n\nCet outil nous permet de mesurer la contribution d'une caractéristique\nau prix d'un bien.\n\n## Exemple\n\nImaginons que nous voulions estimer le prix d'une voiture selon ses\ncaractéristiques.\n\n. . .\n\nD'intuition, nous dirions que le prix de la voiture dépend de plusieurs\nfacteurs, notamment :\n\n::: noincremental\n1.  Sa puissance (+)\n2.  Son poids (-)\n:::\n\n## Exemple\n\nFaisant l'hypothèse que la relation entre le prix et les\ncaractéristiques prend une forme fonctionelle suivante:\n\n\\begin{equation}\nPrix_i =  \\beta_1 \\cdot Puissance_i  + \\beta_2 \\cdot Poids_i\n\\end{equation}\n\n. . .\n\nL'économétrie nous permet d'estimer les coefficients $\\beta$.\n\n. . .\n\nSi notre intuition s'avère correcte, une OLS délivrerait des estimations\ntelles que :\n\n::: noincremental\n-   $\\hat{\\beta_1}>0$\n-   $\\hat{\\beta_2}<0$\n:::\n\n## Données\n\nSoit un jeu de données à notre disposition:\n\n```{r,echo=TRUE}\n#| warning: false\ndta %>% select(c(\"prix\",\"puissance\",\"poids\")) %>% summary\ndta %>% select(c(\"prix\",\"puissance\",\"poids\")) %>% dim\n```\n\n## Testons notre modèle\n\nUne estimation par la méthode des moindres carrés (OLS) nous donne:\n\n```{r,echo=TRUE}\nreg <- dta %>% lm(formula= prix ~poids+ puissance-1)  \nreg %>% tidy %>% kbl() %>% kable_styling(font_size = 35) \n```\n\n. . .\n\nLes deux variables ont un effet positif sur le prix. Les p-valeurs sont\nsignificatives à plus de 99% de confiance !\n\n## Réfléchir à sa modélisation\n\n::: noincremental\n::: {style=\"line-height:1\"}\n-   Nos estimations contredisent notre hypothèse\n    ($\\hat{\\beta}_{poids}>0$). Est-ce que nos résultats ont du sens ?\n-   Représentons nos données\n:::\n:::\n\n. . .\n\n\n::: {style=\"text-align: center\"}\n```{r,echo=FALSE}\n#| fig-height: 6.5\n#| fig-width: 12\n\ndf_long <- dta %>% \n  mutate(fittedval=reg$fitted.values) %>% \n  pivot_longer(cols = c(prix, fittedval),\n    names_to = \"type\",\n    values_to = \"value\")\ndf_long %>% ggplot(aes(x=poids,y=value))+\n  geom_point(color=\"steelblue1\")+\n  facet_wrap(~type,labeller = labeller(type = \n    c(\"fittedval\" = \"Valeurs prédites\",\n      \"prix\" = \"Valeurs observées\")))+\n  labs(title = \"Régression VS. Réalité\")\n```\n:::\n\n## Revoir le modèle - I \n\n-   Ne faudrait-il pas un intercept ? \n\\begin{equation}\n    Prix_i = \\alpha_0 + \\beta_1 \\cdot Puissance_i  + \\beta_2 \\cdot Poids_i\n\\end{equation}\n\n. . .\n\n\n```{r,echo=TRUE}\nreg2 <- dta %>% lm(formula= prix ~poids+ puissance)  \nreg2 %>% tidy %>% kbl() %>% kable_styling(font_size = 35) \n```\n\n\n## Revoir le modèle - II\n\n::: {style=\"text-align: center\"}\n```{r echo=FALSE}\n#| fig-height: 7\n#| fig-width: 10\n\ndf_long <- dta %>% \n  mutate(fittedval=reg2$fitted.values) %>% \n  pivot_longer(cols = c(prix, fittedval),\n    names_to = \"type\",\n    values_to = \"value\")\ndf_long %>% ggplot(aes(x=poids,y=value))+\n  geom_point(color=\"steelblue1\")+\n  facet_wrap(~type,labeller = labeller(type = \n    c(\"fittedval\" = \"Valeurs prédites\",\n      \"prix\" = \"Valeurs observées\")))+\n  labs(title = \"Régression VS. Réalité\")\n```\n:::\n\n. . .\n\nBeaucoup plus cohérent !\n\n## Problème résolu ?\n\nQu'avons nous comme outil pour évaluer s'il y a une potentielle erreur\nde mesure ?\n\n. . .\n\nComparons l'hétéroscédasticité ($\\sigma^2$) des deux modèles:\n\n::: {style=\"text-align: center\"}\n```{r,echo=FALSE}\nlibrary(plotly)\n#| fig-height: 8\n#| fig-width: 12\ndata <- tibble(poids=dta$poids,\n               res1=reg$residuals^2,\n               res2=reg2$residuals^2,\n               puissance=dta$puissance) %>% \n  pivot_longer(cols=c(res1,res2), names_to = \"group\",values_to = \"residuals\")\ndata %>% ggplot(aes(x=poids,y=residuals))+\n  geom_point(color=\"steelblue\")+\n  facet_wrap(~group,labeller = labeller(group = \n    c(\"res1\" = \"Modèle 1\",\n      \"res2\" = \"Modèle 2\")))+\n  labs(title = \"Comparaison de modèles - Carré des résidus \")  \n\n```\n:::\n\nNotre second modèle semble beaucoup plus adapté.\n\n## Remarques\n\n::: noincremental\n-   Une *p-valeur* significative n'implique pas automatiquement que\n    votre régression est correcte !\n-   Soyez toujours critiques de votre modélisation :\n    -   Est-ce que mes coefficients ont du sens ?\n    -   Ai-je à disposition un outil pour tester la véracité de mes\n        résultats ?\n-   Codez ! Appliquer la théorie économétrique est un moyen précieux de\n    rendre cette discipline plus claire.\n:::\n\n## À vous !\n\n::: incremental\n-   Pour le projet il vous sera demandé de constituer une base de\n    données. Vous pouvez récolter des données où vous le désirez, **tant\n    que vous obtenez un jeu de données réelles**.\n-   Rassembler des données peut être couteux. Toutefois avec\n    internet,vous avez à dispositions une masse considérable de données.\n    Mais comment les réunir ?\n-   Le webscraping !\n:::\n\n## Le webscraping\n\n::: incremental\n1.  Le *webscraping* est une méthode d'extraction de données de site web\n2.  Cette méthode exploite la structure des pages pour récupérer\n    automatiquement de l'information\n3.  Elle s'avère très efficace pour constituer rapidement un jeu\n    important de données !\n4.  En revanche, parce qu'un grand nombre de données en récolté, un\n    travail de nettoyage de données est souvent nécessaire\n:::\n\n. . .\n\n## La structure des pages ?\n\nLes sites web que nous voyons sont en réalité une interprétation de code\nHTML.\n\n::::: columns\n::: column\n![](Screen%20Shot%202026-02-02%20at%2023.42.19.png){width=\"130%\"}\n:::\n\n::: column\n![](Capture%20d’écran%202026-02-02%20234320.png){.lightbox width=\"70%\"}\n:::\n:::::\n\n## Scraper une page - I\n\n::: noincremental\n-   À quelques exceptions près, tous les sites web suivent un structure\n    par \"balise\"\n-   Avec `R` ou `Python` et la libraire *Selenium*, il est possible de\n    simuler une navigation internet et d'enregister de l'information\n    contenu dans un code *HTML*.\n:::\n\n## Scraper une page - II\n\nPar étape :\n\n::: incremental\n1.  Trouver une page type qui contient l'information sur le bien\n    d'intérêt\n2.  Comprendre la structure du site\n3.  Localiser les balises d'information\n4.  Automatiser la navigation\n5.  Récolter les données et les stocker dans un fichier lisible par\n    votre programme statistique\n:::\n\n# Un exemple peut-être ?\n\n## Le prix des téléphones\n\nQuels sont les éléments constitutifs des prix de téléphone ?\n\n-   Le stockage\n-   La marque\n-   L'autonomie\n-   La performance\n\n. . .\n\nCréons un jeu de données !\n\n## Jeu de donnée\n\nAprès la récolte automatisée ainsi que le nettoyage des données, nous\nobtenons un jeu tel que suit :\n\n```{r}\n#| echo: true\n#| class: scrollable\nphonesdf %>% print(n=28)\n```\n\n## Notre régression hédonique - I\n\nSur base de ce qui a été récolté, nous pouvons évaluer la contribution\ndes diverses caractéristiques des biens à l'aide de la régression\nhédonique suivante:\n\n```{=latex}\n\\begin{equation}\n\\begin{aligned}\nPrix_{i,m} =\\;& \\alpha_m \n+ \\beta_1 \\cdot Poids_i \\\\\n&+ \\beta_2 \\cdot megapixels_i \\\\\n&+ \\beta_3 \\cdot age_i\n+ \\beta_4 \\cdot RAM_i\n+ \\beta_5 \\cdot stockage_i \\\\\n&+ \\beta_6 \\cdot Qualité\\_Camera_i\n+ \\varepsilon_{i,m}\n\\end{aligned}\n\\end{equation}\n```\n\n## Notre régression hédonique - II\n\n```{r echo=TRUE}\n#| warning: false\n\npreg2 <- linear_reg() %>% set_engine(\"lm\") %>% \n  fit( price~ Poids + megapixels + factor(age) + RAM + \n         stockage + (`Qualité de la caméra`)+(Marque), data = phonesdf) \n\npreg2 %>% tidy %>% kbl() %>% kable_styling(full_width = F,font_size = 20) %>% \n   row_spec(c(10:12),background = \"steelblue1\")\n```\n\n## Notre régression hédonique - III\n\n::: {style=\"text-align: center\"}\n```{r}\n#| fig-cap: \"Coefficients de régression hédonique\"\n#| fig-height: 6\n#| fig-width: 20\ntidy(preg2)%>% \n  mutate(term = reorder(term, estimate),\n    conf.low  = estimate - 1.96 * std.error,\n    conf.high = estimate + 1.96 * std.error) %>%\n  ggplot(aes(x = estimate, y = term)) +\n  geom_vline(xintercept = 0, linetype = \"dashed\", color = \"grey50\") +\n  geom_errorbarh(aes(xmin = conf.low, xmax = conf.high),\n    height = 0.2,\n    color = \"grey40\") +\n  geom_point(size = 3, color = \"#0072B2\") +\n  labs(x = \"Coefficient estimate\",\n    y = NULL,\n    title = \"Coefficient plot with 95% confidence intervals\") +\n  theme_minimal(base_size = 21)\n```\n:::\n\n. . .\n\nOn observe une nette différence entre les prix de Samsung / Google /\nOnePlus et ceux de Apple !\n\n## Notre régression hédonique - IV\n\nDiscuter ses résultats\n\n::: incremental\n-   Le signe des coefficients\n-   La forme fonctionnelle\n-   L'expression des variables explicatives (quantitative vs\n    qualitative)\n-   Pourquoi observe-t-on de tels résultats ? -\\> Recherche contextuelle\n    !\n-   Comparer les marchés !\n    -   Une autre enseigne établit-elle des prix différents ?\n:::\n\n\n## Remarques\n\n:::incremental\n- Ceci est une méthode de récolte de données. Vous être libres de récolter des données autrement. Des sites recensent des jeux de données existantes.\n\n- Votre travail devra être rigoureusement référencé (sites, articles scientifiques, actualité). Tout plagiat sera sévèrement et indiscutablement sanctionné.\n\n- Vous êtes libres d'utiliser le logiciel statistique que vous préférez... mais choisissez-le bien !\n\n- Une séance pourra être organisée pour introduire l'utilisation de `R` ainsi que les bonnes pratiques d'usage ainsi qu'une guidance pour d'éventuelles questions.\n\n- Mobilisez vos connaissances d'autres cours ! **cf.** *Méthode et modélisation économique* & *Introduction à l'économétrie*\n:::\n\n## Prochaines échéances\n\n::: incremental\n\n- **1er mars - 23h59** : Remettre une note (1 page max) dans laquelle vous expliquez quel bien vous souhaitez analyser et expliquez comment vous construirez un jeu de données.\n\n  :::{style=\"text-align: center\"}\n*\\[GRP\\_\\] - Note 1 (Prix)\\_NOM\\_1-NOM\\_2-NOM\\_3.pdf*\n  :::\n\n- **15 mars - 23h59** : Remettre une note dans laquelle vous expliquez votre avancée de récolte de données - Méthode employée, source, quantité de données, objectifs (2 pages max) \n\n  :::{style=\"text-align: center\"}\n*\\[GRP\\_\\] - Note 2 (Prix)\\_NOM\\_1-NOM\\_2-NOM\\_3.pdf*\n  :::\n:::\n. . . \n\n::: {style=\"text-align: center\"}\n**Bon travail !**\n:::\n\n\n## Liens utiles\nCertains sites recensent des bases de données, notamment:\n\n:::noincremental\n::: {style=\"line-height:1\"}\n- [Kaggle](https://www.kaggle.com/):https://www.kaggle.com\n- [Google Dataset Search](https://datasetsearch.research.google.com/):https://datasetsearch.research.google.com\n- [UC Irvine Machine learning repository](https://archive.ics.uci.edu/):https://archive.ics.uci.edu/\n:::\n::: \n\n/!\\\\  Si vous exploitez une base de données que vous n'avez pas constitué vous-mêmes, il est exigé de référencer dûment les auteurs et autrices du jeu de données.\n\n\n::: noincremental\n::: {style=\"line-height:1\"}\n- [Tutoriel vidéo d'installation R & Rstudio](https://www.youtube.com/watch?v=hhqhyexDrsg): https://www.youtube.com/watch?v=hhqhyexDrsg\n- [Tutoriel d'installation Pycharm](https://www.jetbrains.com/help/pycharm/installation-guide.html#toolbox):https://www.jetbrains.com/help/pycharm/installation-guide.html#toolbox\n- [Tutoriel vidéo d'utilisation Selenium (Webscraping)](https://www.youtube.com/watch?v=NB8OceGZGjA):https://www.youtube.com/watch?v=NB8OceGZGjA\n:::\n:::\n\n\n\n## Bibliographie {.scrollable}\n\n::: {#refs}\n:::\n","srcMarkdownNoYaml":"\n\n```{r, verbose = FALSE}\nsource(\"lib.R\")\nsource(\"data_forProj.R\")\nset.seed(1234)\npuissance <- rnorm(5000,200,75)\npoids <- rnorm(5000,500,250)+0.2*puissance\n\nprix <- 3500+0.5*puissance-1*poids+rnorm(5000,150,100)\n\ndta <- tibble(prix,puissance,poids)\n\nfmla <- prix~ 1000+0.5*puissance-0.10*poids\n\n#| include: false\nknitr::opts_chunk$set(warning = FALSE,\n  error   = FALSE\n)\n```\n\n## Objectif de la séance\n\n<br/>\n\nL'objectif de cette séance sera de revenir sur l'organisation du cours\net du matériel que nous emploierons. Nous discuterons:\n\n::: incremental\n- de l'objectif général du projet\n- des outils mobilisables pour ce projet\n- du travail final à rendre\n:::\n\n\n## Structure du projet\n\nChaque groupe doit rédiger un projet de 4 pages / membre (page de garde, appendix et\nréférences exclues - taille de police 12). Le projet doit prendre la forme suivante : \n\n::: incremental\n::: {style=\"line-height:1\"}\n0.  **Page de garde** - titre, noms, matricules\n1. **Revue de littérature** - synthèse de la recherche relative à votre bien \n2. **Discussion de la source de données** - justification, fiabilité,méthode de récolte \n3. **Analyse descriptive des données** - sommaire des variables, graphiques, tables\n4. **Méthode, résultats, discussion** -  spécification de la régression hédonique, estimation de modèle, discussion des résultats, liens contextuels\n5. **Références & Appendix** \n:::\n:::\n\n. . .\n\nLe travail comprendra en préambule une table de matières ainsi qu'une table de graphiques.\n\n## Remise & défense de projet\n\n::: noincremental\n::: {style=\"line-height:1\"}\n- Votre fichier devra être remis **sur l'UV sous format PDF**.\n- En indiquant votre numéro de groupe et vos noms (de famille) par ordre alphabétique, vous nommerez votre le fichier de votre travail :\n\n::: {style=\"text-align: center\"}\n\"[GRP_] - Séminaire d'économie appliquée (Prix)_NOM_1-NOM_2-NOM_3.pdf\". \n:::\n:::\n:::\n. . .\n\n::: noincremental\n::: {style=\"line-height:1\"}\n- Vous devrez également soumettre votre jeu de données ainsi que votre code. **Il est impératif que le code que vous communiquez produise exactement les mêmes résultats que votre travail.** \n- Votre code devra être commenté. Chaque étape clé devra être clairement indiquée et brièvement décrite.\n\n::: {style=\"text-align: center\"}\n \"[GRP_] - Code_NOM_1-NOM_2-NOM_3.R\" <br>\n \"[GRP_] - Dataset_NOM_1-NOM_2-NOM_3.csv\"\n:::\n:::\n:::\n\n## Dates du projet\n\n::: incremental\n- **1er mars - 23h59** : Remettre une note  dans laquelle vous expliquez quel bien vous souhaitez analyser et expliquez comment vous construirez un jeu de données (1 page max).\n<center>\n*\\[GRP\\_\\] - Note 1 (Prix)\\_NOM\\_1-NOM\\_2-NOM\\_3.pdf*\n</center>\n- **15 mars - 23h59** : Remettre une note dans laquelle vous expliquez votre avancée de récolte de données - Méthode employée, source, quantité de données, objectifs (2 pages max). \n<center>\n*\\[GRP\\_\\] - Note 2 (Prix)\\_NOM\\_1-NOM\\_2-NOM\\_3.pdf*\n  </center>\n- **30 avril - 23h59** : Remettre votre travail sur l'UV\n  + Votre rapport final - **format PDF**\n  + Vos documents annexes - Jeu de données, codes\n:::\n\n\n\n# Des questions ?\n\n\n## Du projet\n\n::: incremental\n1.  L'objectif de ce projet est de vous faire mesurer. Mesurer, c'est\n    central en économie appliquée.\n2.  Votre objet d'étude sera un bien.\n3.  Vous devrez mesurer la contribution des caractéristiques d'un bien\n    au prix de ce bien.\n:::\n\n. . .\n\n→ Ceci peut être réalisé avec des outils économétriques : les\nrégressions hédoniques.\n\n. . .\n\nUne régression hédonique décompose le prix en ses constituants\ncaractéristiques, et fournit une estimation de la valeur contributaire\nde chaque caractéristique.\n\n\n## Rappel - L'économétrie [@woolridge]{.smalltext}\n\nL'économétrie est un outil fondé sur des méthodes statistiques ayant\npour but :\n\n::: incremental\n-   d'estimer des relations économiques\n-   de tester des théories\n-   de mesurer des effets\n:::\n\n. . .\n\nCet outil nous permet de mesurer la contribution d'une caractéristique\nau prix d'un bien.\n\n## Exemple\n\nImaginons que nous voulions estimer le prix d'une voiture selon ses\ncaractéristiques.\n\n. . .\n\nD'intuition, nous dirions que le prix de la voiture dépend de plusieurs\nfacteurs, notamment :\n\n::: noincremental\n1.  Sa puissance (+)\n2.  Son poids (-)\n:::\n\n## Exemple\n\nFaisant l'hypothèse que la relation entre le prix et les\ncaractéristiques prend une forme fonctionelle suivante:\n\n\\begin{equation}\nPrix_i =  \\beta_1 \\cdot Puissance_i  + \\beta_2 \\cdot Poids_i\n\\end{equation}\n\n. . .\n\nL'économétrie nous permet d'estimer les coefficients $\\beta$.\n\n. . .\n\nSi notre intuition s'avère correcte, une OLS délivrerait des estimations\ntelles que :\n\n::: noincremental\n-   $\\hat{\\beta_1}>0$\n-   $\\hat{\\beta_2}<0$\n:::\n\n## Données\n\nSoit un jeu de données à notre disposition:\n\n```{r,echo=TRUE}\n#| warning: false\ndta %>% select(c(\"prix\",\"puissance\",\"poids\")) %>% summary\ndta %>% select(c(\"prix\",\"puissance\",\"poids\")) %>% dim\n```\n\n## Testons notre modèle\n\nUne estimation par la méthode des moindres carrés (OLS) nous donne:\n\n```{r,echo=TRUE}\nreg <- dta %>% lm(formula= prix ~poids+ puissance-1)  \nreg %>% tidy %>% kbl() %>% kable_styling(font_size = 35) \n```\n\n. . .\n\nLes deux variables ont un effet positif sur le prix. Les p-valeurs sont\nsignificatives à plus de 99% de confiance !\n\n## Réfléchir à sa modélisation\n\n::: noincremental\n::: {style=\"line-height:1\"}\n-   Nos estimations contredisent notre hypothèse\n    ($\\hat{\\beta}_{poids}>0$). Est-ce que nos résultats ont du sens ?\n-   Représentons nos données\n:::\n:::\n\n. . .\n\n\n::: {style=\"text-align: center\"}\n```{r,echo=FALSE}\n#| fig-height: 6.5\n#| fig-width: 12\n\ndf_long <- dta %>% \n  mutate(fittedval=reg$fitted.values) %>% \n  pivot_longer(cols = c(prix, fittedval),\n    names_to = \"type\",\n    values_to = \"value\")\ndf_long %>% ggplot(aes(x=poids,y=value))+\n  geom_point(color=\"steelblue1\")+\n  facet_wrap(~type,labeller = labeller(type = \n    c(\"fittedval\" = \"Valeurs prédites\",\n      \"prix\" = \"Valeurs observées\")))+\n  labs(title = \"Régression VS. Réalité\")\n```\n:::\n\n## Revoir le modèle - I \n\n-   Ne faudrait-il pas un intercept ? \n\\begin{equation}\n    Prix_i = \\alpha_0 + \\beta_1 \\cdot Puissance_i  + \\beta_2 \\cdot Poids_i\n\\end{equation}\n\n. . .\n\n\n```{r,echo=TRUE}\nreg2 <- dta %>% lm(formula= prix ~poids+ puissance)  \nreg2 %>% tidy %>% kbl() %>% kable_styling(font_size = 35) \n```\n\n\n## Revoir le modèle - II\n\n::: {style=\"text-align: center\"}\n```{r echo=FALSE}\n#| fig-height: 7\n#| fig-width: 10\n\ndf_long <- dta %>% \n  mutate(fittedval=reg2$fitted.values) %>% \n  pivot_longer(cols = c(prix, fittedval),\n    names_to = \"type\",\n    values_to = \"value\")\ndf_long %>% ggplot(aes(x=poids,y=value))+\n  geom_point(color=\"steelblue1\")+\n  facet_wrap(~type,labeller = labeller(type = \n    c(\"fittedval\" = \"Valeurs prédites\",\n      \"prix\" = \"Valeurs observées\")))+\n  labs(title = \"Régression VS. Réalité\")\n```\n:::\n\n. . .\n\nBeaucoup plus cohérent !\n\n## Problème résolu ?\n\nQu'avons nous comme outil pour évaluer s'il y a une potentielle erreur\nde mesure ?\n\n. . .\n\nComparons l'hétéroscédasticité ($\\sigma^2$) des deux modèles:\n\n::: {style=\"text-align: center\"}\n```{r,echo=FALSE}\nlibrary(plotly)\n#| fig-height: 8\n#| fig-width: 12\ndata <- tibble(poids=dta$poids,\n               res1=reg$residuals^2,\n               res2=reg2$residuals^2,\n               puissance=dta$puissance) %>% \n  pivot_longer(cols=c(res1,res2), names_to = \"group\",values_to = \"residuals\")\ndata %>% ggplot(aes(x=poids,y=residuals))+\n  geom_point(color=\"steelblue\")+\n  facet_wrap(~group,labeller = labeller(group = \n    c(\"res1\" = \"Modèle 1\",\n      \"res2\" = \"Modèle 2\")))+\n  labs(title = \"Comparaison de modèles - Carré des résidus \")  \n\n```\n:::\n\nNotre second modèle semble beaucoup plus adapté.\n\n## Remarques\n\n::: noincremental\n-   Une *p-valeur* significative n'implique pas automatiquement que\n    votre régression est correcte !\n-   Soyez toujours critiques de votre modélisation :\n    -   Est-ce que mes coefficients ont du sens ?\n    -   Ai-je à disposition un outil pour tester la véracité de mes\n        résultats ?\n-   Codez ! Appliquer la théorie économétrique est un moyen précieux de\n    rendre cette discipline plus claire.\n:::\n\n## À vous !\n\n::: incremental\n-   Pour le projet il vous sera demandé de constituer une base de\n    données. Vous pouvez récolter des données où vous le désirez, **tant\n    que vous obtenez un jeu de données réelles**.\n-   Rassembler des données peut être couteux. Toutefois avec\n    internet,vous avez à dispositions une masse considérable de données.\n    Mais comment les réunir ?\n-   Le webscraping !\n:::\n\n## Le webscraping\n\n::: incremental\n1.  Le *webscraping* est une méthode d'extraction de données de site web\n2.  Cette méthode exploite la structure des pages pour récupérer\n    automatiquement de l'information\n3.  Elle s'avère très efficace pour constituer rapidement un jeu\n    important de données !\n4.  En revanche, parce qu'un grand nombre de données en récolté, un\n    travail de nettoyage de données est souvent nécessaire\n:::\n\n. . .\n\n## La structure des pages ?\n\nLes sites web que nous voyons sont en réalité une interprétation de code\nHTML.\n\n::::: columns\n::: column\n![](Screen%20Shot%202026-02-02%20at%2023.42.19.png){width=\"130%\"}\n:::\n\n::: column\n![](Capture%20d’écran%202026-02-02%20234320.png){.lightbox width=\"70%\"}\n:::\n:::::\n\n## Scraper une page - I\n\n::: noincremental\n-   À quelques exceptions près, tous les sites web suivent un structure\n    par \"balise\"\n-   Avec `R` ou `Python` et la libraire *Selenium*, il est possible de\n    simuler une navigation internet et d'enregister de l'information\n    contenu dans un code *HTML*.\n:::\n\n## Scraper une page - II\n\nPar étape :\n\n::: incremental\n1.  Trouver une page type qui contient l'information sur le bien\n    d'intérêt\n2.  Comprendre la structure du site\n3.  Localiser les balises d'information\n4.  Automatiser la navigation\n5.  Récolter les données et les stocker dans un fichier lisible par\n    votre programme statistique\n:::\n\n# Un exemple peut-être ?\n\n## Le prix des téléphones\n\nQuels sont les éléments constitutifs des prix de téléphone ?\n\n-   Le stockage\n-   La marque\n-   L'autonomie\n-   La performance\n\n. . .\n\nCréons un jeu de données !\n\n## Jeu de donnée\n\nAprès la récolte automatisée ainsi que le nettoyage des données, nous\nobtenons un jeu tel que suit :\n\n```{r}\n#| echo: true\n#| class: scrollable\nphonesdf %>% print(n=28)\n```\n\n## Notre régression hédonique - I\n\nSur base de ce qui a été récolté, nous pouvons évaluer la contribution\ndes diverses caractéristiques des biens à l'aide de la régression\nhédonique suivante:\n\n```{=latex}\n\\begin{equation}\n\\begin{aligned}\nPrix_{i,m} =\\;& \\alpha_m \n+ \\beta_1 \\cdot Poids_i \\\\\n&+ \\beta_2 \\cdot megapixels_i \\\\\n&+ \\beta_3 \\cdot age_i\n+ \\beta_4 \\cdot RAM_i\n+ \\beta_5 \\cdot stockage_i \\\\\n&+ \\beta_6 \\cdot Qualité\\_Camera_i\n+ \\varepsilon_{i,m}\n\\end{aligned}\n\\end{equation}\n```\n\n## Notre régression hédonique - II\n\n```{r echo=TRUE}\n#| warning: false\n\npreg2 <- linear_reg() %>% set_engine(\"lm\") %>% \n  fit( price~ Poids + megapixels + factor(age) + RAM + \n         stockage + (`Qualité de la caméra`)+(Marque), data = phonesdf) \n\npreg2 %>% tidy %>% kbl() %>% kable_styling(full_width = F,font_size = 20) %>% \n   row_spec(c(10:12),background = \"steelblue1\")\n```\n\n## Notre régression hédonique - III\n\n::: {style=\"text-align: center\"}\n```{r}\n#| fig-cap: \"Coefficients de régression hédonique\"\n#| fig-height: 6\n#| fig-width: 20\ntidy(preg2)%>% \n  mutate(term = reorder(term, estimate),\n    conf.low  = estimate - 1.96 * std.error,\n    conf.high = estimate + 1.96 * std.error) %>%\n  ggplot(aes(x = estimate, y = term)) +\n  geom_vline(xintercept = 0, linetype = \"dashed\", color = \"grey50\") +\n  geom_errorbarh(aes(xmin = conf.low, xmax = conf.high),\n    height = 0.2,\n    color = \"grey40\") +\n  geom_point(size = 3, color = \"#0072B2\") +\n  labs(x = \"Coefficient estimate\",\n    y = NULL,\n    title = \"Coefficient plot with 95% confidence intervals\") +\n  theme_minimal(base_size = 21)\n```\n:::\n\n. . .\n\nOn observe une nette différence entre les prix de Samsung / Google /\nOnePlus et ceux de Apple !\n\n## Notre régression hédonique - IV\n\nDiscuter ses résultats\n\n::: incremental\n-   Le signe des coefficients\n-   La forme fonctionnelle\n-   L'expression des variables explicatives (quantitative vs\n    qualitative)\n-   Pourquoi observe-t-on de tels résultats ? -\\> Recherche contextuelle\n    !\n-   Comparer les marchés !\n    -   Une autre enseigne établit-elle des prix différents ?\n:::\n\n\n## Remarques\n\n:::incremental\n- Ceci est une méthode de récolte de données. Vous être libres de récolter des données autrement. Des sites recensent des jeux de données existantes.\n\n- Votre travail devra être rigoureusement référencé (sites, articles scientifiques, actualité). Tout plagiat sera sévèrement et indiscutablement sanctionné.\n\n- Vous êtes libres d'utiliser le logiciel statistique que vous préférez... mais choisissez-le bien !\n\n- Une séance pourra être organisée pour introduire l'utilisation de `R` ainsi que les bonnes pratiques d'usage ainsi qu'une guidance pour d'éventuelles questions.\n\n- Mobilisez vos connaissances d'autres cours ! **cf.** *Méthode et modélisation économique* & *Introduction à l'économétrie*\n:::\n\n## Prochaines échéances\n\n::: incremental\n\n- **1er mars - 23h59** : Remettre une note (1 page max) dans laquelle vous expliquez quel bien vous souhaitez analyser et expliquez comment vous construirez un jeu de données.\n\n  :::{style=\"text-align: center\"}\n*\\[GRP\\_\\] - Note 1 (Prix)\\_NOM\\_1-NOM\\_2-NOM\\_3.pdf*\n  :::\n\n- **15 mars - 23h59** : Remettre une note dans laquelle vous expliquez votre avancée de récolte de données - Méthode employée, source, quantité de données, objectifs (2 pages max) \n\n  :::{style=\"text-align: center\"}\n*\\[GRP\\_\\] - Note 2 (Prix)\\_NOM\\_1-NOM\\_2-NOM\\_3.pdf*\n  :::\n:::\n. . . \n\n::: {style=\"text-align: center\"}\n**Bon travail !**\n:::\n\n\n## Liens utiles\nCertains sites recensent des bases de données, notamment:\n\n:::noincremental\n::: {style=\"line-height:1\"}\n- [Kaggle](https://www.kaggle.com/):https://www.kaggle.com\n- [Google Dataset Search](https://datasetsearch.research.google.com/):https://datasetsearch.research.google.com\n- [UC Irvine Machine learning repository](https://archive.ics.uci.edu/):https://archive.ics.uci.edu/\n:::\n::: \n\n/!\\\\  Si vous exploitez une base de données que vous n'avez pas constitué vous-mêmes, il est exigé de référencer dûment les auteurs et autrices du jeu de données.\n\n\n::: noincremental\n::: {style=\"line-height:1\"}\n- [Tutoriel vidéo d'installation R & Rstudio](https://www.youtube.com/watch?v=hhqhyexDrsg): https://www.youtube.com/watch?v=hhqhyexDrsg\n- [Tutoriel d'installation Pycharm](https://www.jetbrains.com/help/pycharm/installation-guide.html#toolbox):https://www.jetbrains.com/help/pycharm/installation-guide.html#toolbox\n- [Tutoriel vidéo d'utilisation Selenium (Webscraping)](https://www.youtube.com/watch?v=NB8OceGZGjA):https://www.youtube.com/watch?v=NB8OceGZGjA\n:::\n:::\n\n\n\n## Bibliographie {.scrollable}\n\n::: {#refs}\n:::\n"},"formats":{"revealjs":{"identifier":{"display-name":"RevealJS","target-format":"revealjs","base-format":"revealjs"},"execute":{"fig-width":10,"fig-height":5,"fig-format":"png","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":true,"freeze":"auto","echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","output-file":"seminaire_intro.html","css":["styles.css"]},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.8.25","auto-stretch":true,"title":"ECON-S307\nSéminaire d'économie appliquée - Prix\n","subtitle":"Séance d'introduction","author":"Owen Brown","date":"today","bibliography":["ref.bibtex"],"biblio-style":"natbib","bibliographystyle":"apa","date-format":"long","lightbox":true,"logo":"images/clipboard-1578115461.png","width":1500,"margin":0.075,"slideNumber":true,"pdf":true}}},"projectFormats":["html"]}